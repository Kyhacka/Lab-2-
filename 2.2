open System

// Функция для ввода чисел по отдельности
let rec inputNumbers () =
    printfn "Введите число (или нажмите Enter для завершения):"
    let input = Console.ReadLine() // Чтение ввода
    if String.IsNullOrEmpty(input) then
        [] // Если ввод пустой, завершаем ввод
    else
        match Int32.TryParse(input) with
        | true, number -> number :: inputNumbers() // Добавляем число в список и продолжаем ввод
        | false, _ -> 
            printfn "Некорректный ввод. Пожалуйста, введите целое число."
            inputNumbers() // Повторяем ввод, если ввод некорректен

// Функция для проверки, содержится ли цифра в числе
let containsDigit digit number =
    number.ToString().Contains(digit.ToString())

// Основная программа
let main () =
    // Ввод заданной цифры
    printfn "Введите цифру для поиска:"
    let targetDigit = 
        match Int32.TryParse(Console.ReadLine()) with
        | true, digit -> digit
        | false, _ -> 
            printfn "Некорректный ввод. Используется цифра по умолчанию: 0."
            0

    // Ввод списка чисел
    let numbers = inputNumbers()

    // Используем List.fold для накопления суммы
    let sum = numbers |> List.fold (fun acc number ->
        if containsDigit targetDigit number then
            acc + number // Добавляем число к сумме, если цифра найдена
        else
            acc // Иначе оставляем сумму без изменений
    ) 0

    // Выводим результат
    printfn "Сумма чисел, содержащих цифру %d: %d" targetDigit sum

// Запуск программы
main()
